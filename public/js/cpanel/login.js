$(document).ready(function(){var n=!1;$(".login").on("submit",function(e){if(e.preventDefault(),!n){n=!0;var t=$(this),o=t.find("button > .state");t.addClass("loading"),o.html("Authenticating"),$.ajax({type:"POST",url:"/control/admin/oauth/login",data:{username:$("#username").val(),password:$("#password").val()},success:function(n){setTimeout(function(){t.addClass("ok"),o.html("Welcome!"),setTimeout(function(){document.location.href=n.url},1e3)},1e3)},error:function(e){setTimeout(function(){t.addClass("nok"),t.find(".spinner").html("<i class='fa fa-remove fa-4x'></i>"),o.html(JSON.parse(e.responseText).errors),n=!1,$("#username").val(""),$("#password").val("")},1e3),setTimeout(function(){o.html("Log in"),t.find(".spinner").html(""),t.removeClass("ok nok loading")},2500)}})}})});